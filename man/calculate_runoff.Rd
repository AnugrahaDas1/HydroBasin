% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_runoff.R
\name{calculate_runoff}
\alias{calculate_runoff}
\title{Calculate monthly precipitation, evapotranspiration, and run-off volumes}
\usage{
calculate_runoff(
  basin,
  start_date,
  end_date,
  ppt_var = "ppt",
  aet_var = "aet",
  save_csv = NULL,
  return_plot = FALSE,
  quiet = TRUE
)
}
\arguments{
\item{basin}{\code{sf} polygon \strong{or} filepath to a basin-boundary vector
(e.g. the output from \code{delineate_basin()}).}

\item{start_date}{\code{"YYYY-MM-DD"} string (inclusive).}

\item{end_date}{\code{"YYYY-MM-DD"} string (inclusive).}

\item{ppt_var}{Name of the precipitation variable (TerraClim default \code{"ppt"}).}

\item{aet_var}{Name of the evapotranspiration variable (default \code{"aet"}).}

\item{save_csv}{Optional filepath.  If supplied, a CSV is written there.}

\item{return_plot}{Logical.  \code{TRUE} â†’ return a \code{ggplot} object along with
the data frame.}

\item{quiet}{Suppress verbose download messages.}
}
\value{
A \code{tibble} with one row per month and columns:
\code{date}, \code{ppt_vol_m3}, \code{aet_vol_m3}, \code{runoff_vol_m3},
\code{year}, \code{month}.  If \code{return_plot = TRUE}, the result is a list
containing \code{data} and \code{plot}.
}
\description{
Downloads TerraClim monthly \strong{ppt} (precipitation) and \strong{aet}
(actual evapotranspiration) stacks for a watershed, converts them to
volumetric totals inside the basin, and (optionally) writes a CSV and/or
returns a ggplot.
}
\examples{
\dontrun{
ws <- system.file("extdata/basin_polygon.shp", package = "HydroBasin")
df <- calculate_runoff(ws, "2020-01-01", "2024-03-31")
}
}
